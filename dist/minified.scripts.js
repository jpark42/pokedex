let pokemonRepository=function(){let t=[];function e(){return t}function n(e){'object'==typeof e&&'name'in e?t.push(e):console.log('Pokemon is not correct')}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.types=[];for(var n=0;n<e.types.length;n++)t.types.push(e.types[n].type.name);t.weight=e.weight}).catch(function(t){console.log('Log a debug level message.'),console.error(t)})}function i(t){let e=$('.modal-body'),n=$('.modal-title');$('.modal-header'),n.empty(),e.empty();let o=$('<h1>'+t.name+'</h1>'),i=$('<img class="modal-img" style="width:50%">');i.attr('src',t.imageUrl);let a=$('<img class="modal-img" style="width:50%">');a.attr('src',t.imageUrlBack);let l=$('<p>Height : '+t.height+'</p>'),s=$('<p>Weight : '+t.weight+'</p>'),r=$('<p>Types : '+t.types+'</p>');n.append(o),e.append(i),e.append(a),e.append(l),e.append(s),e.append(r)}return{getAll:e,add:n,addListItem:function t(e){let n=document.querySelector('.pokemon-list'),a=document.createElement('li'),l=document.createElement('button');l.innerText=e.name,l.classList.add('button'),l.classList.add('btn'),l.classList.add('btn-primary'),l.setAttribute('data-toggle','modal'),l.setAttribute('data-target','#pokemon-modal'),l.classList.add('group-list-item'),a.appendChild(l),n.appendChild(a),l.addEventListener('click',function(t){(function t(e){o(e).then(function(){i(e)})})(e)})},loadList:function t(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let e={name:t.name,detailsUrl:t.url};n(e),console.log(e)})}).catch(function(t){console.error(t)})},loadDetails:o,showModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
